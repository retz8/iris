# IRIS Debug Report

**File:** `email.py`  
**Language:** `python`  
**Execution Path:** ðŸ”§ Tool-Calling with Signature Graph  

---

## Source Code Overview

### Stage 1: Original Source Code

**Total Lines:** 268  
**Size:** 7,694 bytes

```python
"""
Email Marketing Campaign Manager
Handles subscriber lists, campaign scheduling, and delivery tracking.
"""

from typing import List, Dict, Set, Op...(truncated)
```

### Signature Graph Snapshot

**Entities:** 19

```json
{
  "entities": [
    {
      "id": "entity_0",
      "name": "from typing import List, Dict, Set, Optional",
      "type": "import",
      "signature": "from typing import List, Dict, Set, Optional",
      "line_range": [
        6,
        6
      ],
      "depth": 0,
      "scope": "module",
      "parent_id": null,
      "children_ids": [],
      "calls": [],
      "leading_comment": null,
      "inline_comment": null,
      "trailing_comment": null,
      "docstring": null
    },
    {
      "id": "entity_1",
      "name": "from dataclasses import dataclass",
      "type": "import",
      "signature": "from dataclasses import dataclass",
      "line_range": [
        7,
        7
      ],
      "depth": 0,
      "scope": "module",
      "parent_id": null,
      "children_ids": [],
      "calls": [],
      "leading_comment": null,
      "inline_comment": null,
      "trailing_comment": null,
      "docstring": null
    },
    {
      "id": "entity_2",
  ...(truncated for readability)
```

---

## LLM Processing Metrics

### ðŸ”§ Tool-Calling Execution

Single-stage analysis with dynamic source reading: LLM analyzes shallow AST and calls `refer_to_source_code()` tool when needed.

#### Summary

| Metric | Value |
|--------|-------|
| Total Input Tokens | 5,352 |
| Total Output Tokens | 567 |
| Total Tokens | 5,919 |
| Total Time | 10.74s |
| Stages | 1 |

#### Stage Details

**Tool Calling Analysis**

| Metric | Value |
|--------|-------|
| Input Tokens | 5,352 |
| Output Tokens | 567 |
| Total Tokens | 5,919 |
| Time | 10.74s |

**Throughput:**

- Tokens/Second: 551.1 tok/s
- Input: 5,352 tok | Output: 567 tok | Total: 5,919 tok

<details>
<summary><strong>ðŸ“„ Full LLM Response</strong> (click to expand)</summary>

```json
{
  "file_intent": "Email campaign management system that orchestrates subscriber interactions and campaign executions with compliance and targeting guarantees.",
  "initial_hypothesis": "The file defines classes and functions for managing email campaigns, subscribers, and their statuses.",
  "entity_count_validation": {
    "total_entities": 19,
    "responsibilities_count": 3,
    "required_range": "3-5",
    "passes_anti_collapse_rule": true
  },
  "verification_processes": [],
  "responsibilities": [
    {
      "id": "email-campaign-orchestrator",
      "label": "Email Campaign Orchestrator",
      "description": "Manages the lifecycle of email campaigns, including creation, delivery, and subscriber management.",
      "elements": {
        "functions": [
          "__init__",
          "add_subscriber_to_list",
          "update_subscriber_tags",
          "unsubscribe_email_address",
          "filter_subscribers_by_tags",
          "create_email_campaign",
          "calculate_campaign_delivery_list",
          "execute_campaign_delivery"
        ],
        "state": [],
        "imports": [
          "List",
          "Dict",
          "Set",
          "Optional",
          "dataclass",
          "datetime",
          "timedelta",
          "Enum"
        ],
        "types": [
          "CampaignStatus",
          "SubscriberStatus",
          "Subscriber",
          "Campaign"
        ],
        "constants": []
      },
      "ranges": [
        [
          10,
          268
        ]
      ]
    },
    {
      "id": "subscriber-status-enum",
      "label": "Subscriber Status Enumeration",
      "description": "Defines the possible statuses for subscribers in the email campaign system.",
      "elements": {
        "functions": [],
        "state": [],
        "imports": [],
        "types": [
          "SubscriberStatus"
        ],
        "constants": []
      },
      "ranges": [
        [
          22,
          27
        ]
      ]
    },
    {
      "id": "campaign-status-enum",
      "label": "Campaign Status Enumeration",
      "description": "Defines the possible statuses for campaigns in the email campaign system.",
      "elements": {
        "functions": [],
        "state": [],
        "imports": [],
        "types": [
          "CampaignStatus"
        ],
        "constants": []
      },
      "ranges": [
        [
          12,
          19
        ]
      ]
    }
  ],
  "metadata": {
    "logical_depth": "Shallow",
    "notes": "The file is structured around managing email campaigns and subscribers, with clear separation of responsibilities for campaign and subscriber statuses."
  }
}
```

</details>

---

*Report generated for IRIS AST transformation analysis*