# IRIS Debug Report

**File:** `main.js`  
**Language:** `javascript`  
**Execution Path:** ðŸ”§ Tool-Calling (Single-Stage with Dynamic Source Reading)  

---

## Source Code Overview

### Stage 1: Original Source Code

*Source code not available in snapshots*

### Signature Graph Snapshot

**Entities:** 42

```json
{
  "entities": [
    {
      "id": "entity_0",
      "name": "* as THREE",
      "type": "import",
      "signature": "import * as THREE from \"three\";",
      "line_range": [
        1,
        1
      ],
      "depth": 0,
      "scope": "module",
      "parent_id": null,
      "children_ids": [],
      "calls": [],
      "leading_comment": null,
      "inline_comment": null,
      "trailing_comment": null,
      "docstring": null
    },
    {
      "id": "entity_1",
      "name": "{ PLYLoader }",
      "type": "import",
      "signature": "import { PLYLoader } from \"three/examples/jsm/loaders/PLYLoader.js\";",
      "line_range": [
        2,
        2
      ],
      "depth": 0,
      "scope": "module",
      "parent_id": null,
      "children_ids": [],
      "calls": [],
      "leading_comment": null,
      "inline_comment": null,
      "trailing_comment": null,
      "docstring": null
    },
    {
      "id": "entity_2",
      "name": "{ OBJExporter }",
      "type": "import",
      "signature": "import { OBJExporter } from \"three/examples/jsm/exporters/OBJExporter.js\";",
      "line_range": [
        3,
        3
      ],
      "depth": 0,
      "scope": "module",
      "parent_id": null,
      "children_ids": [],
      "calls": [],
      "leading_comment": null,
      "inline_comment": null,
      "trailing_comment": null,
      "docstring": null
    },
    {
      "id": "entity_3",
      "name": "rotatingFrameTransformation",
      "type": "import",
      "signature": "import rotatingFrameTransformation from \"./rotation_of_the_frame.js\";",
      "line_range": [
        4,
        4
      ],
      "depth": 0,
      "scope": "module",
      "parent_id": null,
      "children_ids": [],
      "calls": [],
      "leading_comment": null,
      "inline_comment": null,
      "trailing_comment": null,
      "docstring": null
    },
    {
      "id": "entity_4",
      "name": "{ createGUIWithAnth }",
      "type": "import",
  ...(truncated for readability)
```

---

## LLM Processing Metrics

### ðŸ”§ Tool-Calling Execution

Single-stage analysis with dynamic source reading: LLM analyzes shallow AST and calls `refer_to_source_code()` tool when needed.

#### Summary

| Metric | Value |
|--------|-------|
| Total Input Tokens | 8,967 |
| Total Output Tokens | 922 |
| Total Tokens | 9,889 |
| Total Time | 17.35s |
| Stages | 1 |

#### Stage Details

**Tool Calling Analysis**

| Metric | Value |
|--------|-------|
| Input Tokens | 8,967 |
| Output Tokens | 922 |
| Total Tokens | 9,889 |
| Time | 17.35s |

**Throughput:**

- Tokens/Second: 570.0 tok/s
- Input: 8,967 tok | Output: 922 tok | Total: 9,889 tok

<details>
<summary><strong>ðŸ“„ Full LLM Response</strong> (click to expand)</summary>

```json
{
  "file_intent": "Orchestrator for wheelchair design simulation that integrates 3D models and user inputs into a cohesive visualization with real-time adjustments.",
  "initial_hypothesis": "The file serves as the main entry point for loading and managing 3D models of wheelchairs and human figures, facilitating user interaction and visualization.",
  "entity_count_validation": {
    "total_entities": 42,
    "responsibilities_count": 6,
    "required_range": "5-10",
    "passes_anti_collapse_rule": true
  },
  "verification_processes": [],
  "responsibilities": [
    {
      "id": "load-and-manage-models",
      "label": "Load and Manage 3D Models",
      "description": "Handles loading and updating of human and wheelchair models in the scene.",
      "elements": {
        "functions": [
          "loadHumanModel",
          "loadWheelchairModel",
          "loadHumanAndWheelchairModels",
          "checkAllModelsLoaded"
        ],
        "state": [],
        "imports": [
          "rotatingFrameTransformation",
          "SceneManager"
        ],
        "types": [],
        "constants": []
      },
      "ranges": [
        [
          475,
          562
        ],
        [
          848,
          1015
        ]
      ]
    },
    {
      "id": "calculate-wheelchair-parameters",
      "label": "Calculate Wheelchair Parameters",
      "description": "Calculates optimal parameters for wheelchair design based on user input and model data.",
      "elements": {
        "functions": [
          "calculateOptimalSeatWidth",
          "calculateOptimalBackHeight",
          "calculateOptimalWheelchairParams",
          "validateWheelchairParams",
          "updateWheelchairParams"
        ],
        "state": [],
        "imports": [],
        "types": [],
        "constants": []
      },
      "ranges": [
        [
          311,
          409
        ],
        [
          368,
          388
        ]
      ]
    },
    {
      "id": "update-human-geometry",
      "label": "Update Human Geometry",
      "description": "Updates the human model's geometry based on wheelchair parameters and user adjustments.",
      "elements": {
        "functions": [
          "updateHumanGeometry",
          "optimizeHumanAlignment",
          "updateHumanGeometryFromWheelchair"
        ],
        "state": [],
        "imports": [],
        "types": [],
        "constants": []
      },
      "ranges": [
        [
          582,
          641
        ],
        [
          765,
          838
        ]
      ]
    },
    {
      "id": "refresh-gui",
      "label": "Refresh GUI Parameters",
      "description": "Updates the graphical user interface with the latest wheelchair parameters.",
      "elements": {
        "functions": [
          "refreshGUIWheelchairParams"
        ],
        "state": [],
        "imports": [
          "createGUIWithAnth"
        ],
        "types": [],
        "constants": []
      },
      "ranges": [
        [
          454,
          466
        ]
      ]
    },
    {
      "id": "animate-scene",
      "label": "Animate Scene",
      "description": "Handles the animation loop for rendering the scene and updating visual elements.",
      "elements": {
        "functions": [
          "animate"
        ],
        "state": [],
        "imports": [
          "SceneManager"
        ],
        "types": [],
        "constants": []
      },
      "ranges": [
        [
          1036,
          1145
        ]
      ]
    },
    {
      "id": "initialize-application",
      "label": "Initialize Application",
      "description": "Sets up the initial state of the application, loading necessary models and configurations.",
      "elements": {
        "functions": [
          "init"
        ],
        "state": [],
        "imports": [],
        "types": [],
        "constants": []
      },
      "ranges": [
        [
          1020,
          1033
        ]
      ]
    }
  ],
  "metadata": {
    "logical_depth": "Deep",
    "notes": "The file integrates multiple modules for 3D modeling and user interaction, indicating a complex architecture focused on wheelchair design."
  }
}
```

</details>

---

*Report generated for IRIS AST transformation analysis*